name: Daily Cricket Automation

on:
  schedule:
    # Run every day at 11:00 PM UTC (adjust timezone as needed)
    # Format: minute hour day month day-of-week
    - cron: '0 23 * * *'
  
  # Allow manual triggering from GitHub UI
  workflow_dispatch:

jobs:
  fetch-cricket-data:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install requests
      
      - name: Fetch today's cricket matches
        run: |
          python daily_cricket_automation.py
      
      - name: Upload match data as artifacts
        uses: actions/upload-artifact@v3
        with:
          name: cricket-matches-${{ github.run_number }}
          path: |
            match_*.json
            daily_matches_*.json
          retention-days: 30
      
      - name: Commit and push data (optional)
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          git diff --quiet && git diff --staged --quiet || (git commit -m "Update cricket data for $(date +%Y-%m-%d)" && git push)
        continue-on-error: true
```

4. Click **"Commit changes"**

---

### **Step 3: Upload Documentation (Optional)**

1. Click **"Add file"** → **"Upload files"**
2. Drag these 4 files:
   - `QUICKSTART.md`
   - `GITHUB_SETUP.md`
   - `PROJECT_STRUCTURE.md`
   - `README.md` (this will replace the auto-generated one)
3. Click **"Commit changes"**

---

## ✅ Final Checklist

After uploading, your repo should have:
```
cricket-social-media-automation/
├── .github/
│   └── workflows/
│       └── cricket-automation.yml     ✅
├── daily_cricket_automation.py        ✅
├── fetch_cricket_data.py              ✅
├── requirements.txt                   ✅
├── QUICKSTART.md                      ✅
├── GITHUB_SETUP.md                    ✅
├── PROJECT_STRUCTURE.md               ✅
└── README.md                          ✅
